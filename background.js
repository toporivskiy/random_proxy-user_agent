user_agent_list = ["Mozilla/5.0 (Linux; Android 8.0.0; SM-G960F Build/R16NW) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/62.0.3202.84 Mobile Safari/537.36", "Mozilla/5.0 (Linux; Android 7.0; SM-G892A Build/NRD90M; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/60.0.3112.107 Mobile Safari/537.36", "Mozilla/5.0 (Linux; Android 7.0; SM-G930VC Build/NRD90M; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/58.0.3029.83 Mobile Safari/537.36", "Mozilla/5.0 (Linux; Android 6.0.1; SM-G935S Build/MMB29K; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/55.0.2883.91 Mobile Safari/537.36", "Mozilla/5.0 (Linux; Android 6.0.1; SM-G920V Build/MMB29K) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.98 Mobile Safari/537.36", "Mozilla/5.0 (Linux; Android 5.1.1; SM-G928X Build/LMY47X) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/47.0.2526.83 Mobile Safari/537.36", "Mozilla/5.0 (Linux; Android 6.0.1; Nexus 6P Build/MMB29P) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/47.0.2526.83 Mobile Safari/537.36", "Mozilla/5.0 (Linux; Android 7.1.1; G8231 Build/41.2.A.0.219; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/59.0.3071.125 Mobile Safari/537.36", "Mozilla/5.0 (Linux; Android 6.0.1; E6653 Build/32.2.A.0.253) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.98 Mobile Safari/537.36", "Mozilla/5.0 (Linux; Android 6.0; HTC One X10 Build/MRA58K; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/61.0.3163.98 Mobile Safari/537.36", "Mozilla/5.0 (Linux; Android 6.0; HTC One M9 Build/MRA58K) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.98 Mobile Safari/537.3", "Mozilla/5.0 (iPhone; CPU iPhone OS 12_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/12.0 Mobile/15E148 Safari/604.1", "Mozilla/5.0 (iPhone; CPU iPhone OS 12_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/69.0.3497.105 Mobile/15E148 Safari/605.1", "Mozilla/5.0 (iPhone; CPU iPhone OS 12_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) FxiOS/13.2b11866 Mobile/16A366 Safari/605.1.15", "Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1", "Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.34 (KHTML, like Gecko) Version/11.0 Mobile/15A5341f Safari/604.1", "Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A5370a Safari/604.1", "Mozilla/5.0 (iPhone9,3; U; CPU iPhone OS 10_0_1 like Mac OS X) AppleWebKit/602.1.50 (KHTML, like Gecko) Version/10.0 Mobile/14A403 Safari/602.1", "Mozilla/5.0 (iPhone9,4; U; CPU iPhone OS 10_0_1 like Mac OS X) AppleWebKit/602.1.50 (KHTML, like Gecko) Version/10.0 Mobile/14A403 Safari/602.1", "Mozilla/5.0 (Apple-iPhone7C2/1202.466; U; CPU like Mac OS X; en) AppleWebKit/420+ (KHTML, like Gecko) Version/3.0 Mobile/1A543 Safari/419.3", "Mozilla/5.0 (Windows Phone 10.0; Android 6.0.1; Microsoft; RM-1152) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Mobile Safari/537.36 Edge/15.15254", "Mozilla/5.0 (Windows Phone 10.0; Android 4.2.1; Microsoft; RM-1127_16056) AppleWebKit/537.36(KHTML, like Gecko) Chrome/42.0.2311.135 Mobile Safari/537.36 Edge/12.10536", "Mozilla/5.0 (Windows Phone 10.0; Android 4.2.1; Microsoft; Lumia 950) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2486.0 Mobile Safari/537.36 Edge/13.1058", "Mozilla/5.0 (Linux; Android 7.0; Pixel C Build/NRD90M; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/52.0.2743.98 Safari/537.36", "Mozilla/5.0 (Linux; Android 6.0.1; SGP771 Build/32.2.A.0.253; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/52.0.2743.98 Safari/537.36", "Mozilla/5.0 (Linux; Android 6.0.1; SHIELD Tablet K1 Build/MRA58K; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/55.0.2883.91 Safari/537.36", "Mozilla/5.0 (Linux; Android 7.0; SM-T827R4 Build/NRD90M) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3112.116 Safari/537.36", "Mozilla/5.0 (Linux; Android 5.0.2; SAMSUNG SM-T550 Build/LRX22G) AppleWebKit/537.36 (KHTML, like Gecko) SamsungBrowser/3.3 Chrome/38.0.2125.102 Safari/537.36", "Mozilla/5.0 (Linux; Android 4.4.3; KFTHWI Build/KTU84M) AppleWebKit/537.36 (KHTML, like Gecko) Silk/47.1.79 like Chrome/47.0.2526.80 Safari/537.36", "Mozilla/5.0 (Linux; Android 5.0.2; LG-V410/V41020c Build/LRX22G) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/34.0.1847.118 Safari/537.36", "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/42.0.2311.135 Safari/537.36 Edge/12.246", "Mozilla/5.0 (X11; CrOS x86_64 8172.45.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.64 Safari/537.36", "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_2) AppleWebKit/601.3.9 (KHTML, like Gecko) Version/9.0.2 Safari/601.3.9", "Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/47.0.2526.111 Safari/537.36", "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:15.0) Gecko/20100101 Firefox/15.0.1"]; //https://deviceatlas.com/blog/list-of-user-agent-strings
proxy_list = ["62.149.14.70:3128", "31.193.90.247:3133", "178.136.195.170:33315", "5.53.119.186:52379", "95.67.38.193:53281", "93.171.242.142:57563", "95.67.67.54:53281", "178.150.89.13:55223", "91.225.165.4:50625", "5.58.29.76:34282", "37.25.3.253:56532", "193.41.88.58:53281", "94.45.100.1:51866", "195.34.90.121:41258", "195.88.26.9:48346", "93.170.114.228:8080", "193.161.13.219:45345", "94.76.75.20:40442", "109.251.104.73:44298", "91.203.114.74:49651", "46.173.105.151:41258", "93.77.12.172:52781", "185.175.94.109:35866", "5.58.152.226:41104", "176.121.4.18:54594", "91.225.226.39:59237", "94.74.64.60:55303", "194.242.98.253:33364", "176.102.48.105:48822", "213.160.150.239:34744", "93.171.242.9:52705", "31.129.173.48:48461", "134.249.188.139:57232", "78.26.172.44:49344", "109.251.185.20:56468", "91.202.240.208:51678", "94.74.83.230:53281", "176.102.48.94:45613", "176.98.76.210:45433", "134.249.167.184:53281", "195.138.82.198:35249", "176.108.104.84:41672", "77.109.59.196:38860", "5.58.56.109:53984", "176.36.111.9:33572", "5.58.95.254:55048", "46.172.76.124:45167", "178.213.0.207:44242", "95.158.1.26:56234", "193.169.147.40:41258", "109.86.196.126:55701", "94.153.129.130:55128", "176.98.76.203:57655", "46.118.33.132:36610", "178.165.103.188:52870", "94.158.151.19:57537", "176.103.17.139:32779", "93.78.205.197:57437", "94.179.135.154:30939", "109.86.207.1:39739", "94.153.194.14:41258", "91.229.240.50:21231", "176.37.119.45:31239", "159.224.226.164:33803", "37.57.129.4:4444", "31.128.101.55:36642", "93.170.117.152:46748", "195.138.86.106:37486", "176.122.122.198:37887", "195.211.174.34:38214", "5.58.11.215:43222", "82.193.112.15:36378", "31.129.161.43:52822", "77.120.246.243:35679", "93.77.78.123:42803", "176.36.89.203:53325", "95.158.44.148:57093", "109.237.92.86:58591", "93.77.121.45:55955", "86.111.88.10:53069", "212.26.137.210:35348", "46.151.192.170:61917", "176.36.164.240:48016", "159.224.44.19:57055", "176.124.128.104:54515", "217.12.222.210:53281", "93.175.203.124:57862", "91.211.122.23:56433", "213.174.6.67:39563", "178.92.9.210:3128", "176.36.217.6:56378", "212.1.109.155:31131", "178.136.11.7:61824", "46.219.14.37:60502", "217.12.198.34:37771", "185.200.63.97:53869", "94.158.88.172:31280", "195.24.154.3:51749", "93.76.218.162:60790", "176.100.18.205:34360", "46.201.241.67:53281", "176.37.50.238:47351", "94.45.152.86:49879", "195.88.42.19:51147", "46.172.76.104:8080", "31.202.30.141:59837", "95.158.63.46:61366", "109.86.184.131:53032", "46.175.185.239:36105", "194.183.174.152:55429", "195.34.90.37:43174", "94.244.130.209:50446", "185.247.20.254:33099", "178.151.205.154:35798", "46.200.75.171:56021", "46.219.111.73:53281", "5.58.156.61:53654", "92.249.70.83:46792", "95.215.95.126:59690", "195.138.84.232:38800", "193.43.95.139:39723", "176.118.51.176:39627", "95.67.45.234:8080", "178.150.139.126:53708", "5.58.167.58:57103", "176.36.20.67:61935", "178.136.195.6:40598", "178.94.86.176:37918", "109.207.112.212:33386", "176.98.75.120:33810", "31.193.90.197:61132", "62.122.201.170:40714", "77.121.6.130:53281", "154.41.2.154:13538", "37.57.253.91:37186", "213.174.10.58:48230", "195.225.147.241:46704", "91.227.183.222:39027", "91.192.45.192:51616", "5.58.149.229:59236", "91.142.174.224:56249", "185.226.112.26:49041", "78.26.154.121:47971", "5.58.78.214:35781", "109.87.45.248:40419", "46.175.70.69:56728", "62.122.201.246:60619", "178.215.190.240:56944", "77.120.152.161:37619", "91.225.5.43:53317", "176.36.214.42:30460", "193.200.151.69:50335", "31.129.166.94:59215", "46.175.70.34:32472", "94.153.169.22:59177", "193.200.151.158:33094", "195.182.22.92:49455", "193.34.140.105:53281", "195.138.83.218:53281", "194.246.105.51:41258", "46.219.77.3:53361", "194.29.60.48:45416", "193.164.95.19:48673", "82.207.43.131:47704", "92.242.112.49:80", "91.224.203.6:52901", "178.151.29.185:58484", "77.222.131.11:50972", "46.201.225.210:57179", "37.52.11.12:42180", "176.120.37.82:59365", "178.150.100.39:59704", "194.246.105.62:41258", "194.54.155.122:47772", "62.149.14.70:3128", "31.193.90.247:3133", "178.136.195.170:33315", "5.53.119.186:52379", "95.67.38.193:53281", "93.171.242.142:57563", "95.67.67.54:53281", "178.150.89.13:55223", "91.225.165.4:50625", "5.58.29.76:34282", "37.25.3.253:56532", "193.41.88.58:53281", "94.45.100.1:51866", "195.34.90.121:41258", "195.88.26.9:48346", "93.170.114.228:8080", "193.161.13.219:45345", "94.76.75.20:40442", "109.251.104.73:44298", "91.203.114.74:49651", "46.173.105.151:41258", "93.77.12.172:52781", "185.175.94.109:35866", "5.58.152.226:41104", "176.121.4.18:54594", "91.225.226.39:59237", "94.74.64.60:55303", "194.242.98.253:33364", "176.102.48.105:48822", "213.160.150.239:34744", "93.171.242.9:52705", "31.129.173.48:48461", "134.249.188.139:57232", "78.26.172.44:49344", "178.136.131.13:8080", "109.251.185.20:56468", "91.202.240.208:51678", "94.74.83.230:53281", "176.102.48.94:45613", "176.98.76.210:45433", "134.249.167.184:53281", "195.138.82.198:35249", "176.108.104.84:41672", "77.109.59.196:38860", "5.58.56.109:53984", "176.36.111.9:33572", "5.58.95.254:55048", "46.172.76.124:45167", "178.213.0.207:44242", "95.158.1.26:56234", "193.169.147.40:41258", "109.86.196.126:55701", "94.153.129.130:55128", "176.98.76.203:57655", "46.118.33.132:36610", "178.165.103.188:52870", "94.158.151.19:57537", "176.103.17.139:32779", "93.78.205.197:57437", "94.179.135.154:30939", "109.86.207.1:39739", "94.153.194.14:41258", "91.229.240.50:21231", "176.37.119.45:31239", "159.224.226.164:33803", "37.57.129.4:4444", "31.128.101.55:36642", "93.170.117.152:46748", "195.138.86.106:37486", "176.122.122.198:37887", "195.211.174.34:38214", "5.58.11.215:43222", "82.193.112.15:36378", "31.129.161.43:52822", "77.120.246.243:35679", "93.77.78.123:42803", "176.36.89.203:53325", "95.158.44.148:57093", "109.237.92.86:58591", "93.77.121.45:55955", "86.111.88.10:53069", "212.26.137.210:35348", "46.151.192.170:61917", "176.36.164.240:48016", "159.224.44.19:57055", "176.124.128.104:54515", "217.12.222.210:53281", "93.175.203.124:57862", "91.211.122.23:56433", "213.174.6.67:39563", "178.92.9.210:3128", "176.36.217.6:56378", "212.1.109.155:31131", "178.136.11.7:61824", "46.219.14.37:60502", "217.12.198.34:37771", "185.200.63.97:53869", "94.158.88.172:31280", "195.24.154.3:51749", "93.76.218.162:60790", "176.100.18.205:34360", "46.201.241.67:53281", "176.37.50.238:47351", "94.45.152.86:49879", "195.88.42.19:51147", "46.172.76.104:8080", "31.202.30.141:59837", "95.158.63.46:61366", "109.86.184.131:53032", "46.175.185.239:36105", "194.183.174.152:55429", "195.34.90.37:43174", "185.247.20.254:33099", "178.151.205.154:35798", "46.200.75.171:56021", "46.219.111.73:53281", "5.58.156.61:53654", "92.249.70.83:46792", "95.215.95.126:59690", "195.138.84.232:38800", "193.43.95.139:39723", "176.118.51.176:39627", "95.67.45.234:8080", "178.150.139.126:53708", "5.58.167.58:57103", "176.36.20.67:61935", "178.136.195.6:40598", "178.94.86.176:37918", "109.207.112.212:33386", "176.98.75.120:33810", "31.193.90.197:61132", "62.122.201.170:40714", "77.121.6.130:53281", "154.41.2.154:13538", "37.57.253.91:37186", "213.174.10.58:48230", "195.225.147.241:46704", "91.227.183.222:39027", "91.192.45.192:51616", "5.58.149.229:59236", "91.142.174.224:56249", "185.226.112.26:49041", "78.26.154.121:47971", "5.58.78.214:35781", "109.87.45.248:40419", "46.175.70.69:56728", "62.122.201.246:60619", "178.215.190.240:56944", "77.120.152.161:37619", "91.225.5.43:53317", "193.200.151.69:50335", "31.129.166.94:59215", "46.175.70.34:32472", "94.153.169.22:59177", "193.200.151.158:33094", "195.182.22.92:49455", "193.34.140.105:53281", "195.138.83.218:53281", "194.246.105.51:41258", "46.219.77.3:53361", "194.29.60.48:45416", "193.164.95.19:48673", "82.207.43.131:47704", "91.224.203.6:52901", "178.151.29.185:58484", "77.222.131.11:50972", "46.201.225.210:57179", "37.52.11.12:42180", "176.120.37.82:59365", "178.150.100.39:59704", "194.246.105.62:41258", "194.54.155.122:47772", "91.207.147.243:38472", "176.36.6.168:59006", "176.98.95.247:47784", "185.41.248.63:32228", "109.254.143.230:34427", "213.231.1.150:44931", "95.133.163.98:61821", "178.92.9.210:3128", "46.175.70.34:32472", "46.201.250.85:60380", "91.240.97.133:35817", "37.52.11.12:42180", "195.138.84.232:38800", "91.227.183.222:39027", "194.44.236.48:56504", "91.216.61.40:46613", "5.58.208.112:60723", "185.247.20.254:33099", "195.58.234.98:61189", "185.226.112.26:49041", "95.47.116.129:43911", "195.88.26.9:48346", "91.210.178.161:8080", "195.211.231.180:30823", "195.16.77.42:48696", "185.94.218.57:43403", "5.58.152.226:41104", "176.36.217.6:56378", "46.201.254.46:30742", "94.45.152.86:49879", "194.44.176.100:37942", "5.58.49.28:56805", "178.216.190.53:30171", "46.219.104.160:33652", "194.44.34.6:41833", "176.120.37.82:59365", "194.44.160.246:61465", "188.163.170.130:41209", "193.110.77.67:48827", "62.122.201.170:40714", "109.251.252.123:50171", "93.73.77.204:30177", "109.254.48.122:39568", "178.150.84.139:53393", "82.207.43.131:47704", "109.86.41.110:45308", "176.98.95.247:47784", "91.219.252.186:39670", "5.59.105.17:39045", "5.58.85.32:43371", "92.242.112.49:8123", "46.200.75.171:56021", "176.36.118.116:50605", "89.252.16.134:36075", "31.28.170.187:31280", "46.151.150.11:8888", "93.171.242.9:52705", "46.201.249.7:58806", "62.149.14.70:3128", "178.136.56.246:36573", "176.118.48.118:59905", "91.239.81.38:49776", "77.120.246.243:35679", "93.178.216.108:44254", "46.219.116.120:42402", "213.160.150.239:34744", "176.124.128.104:54515", "82.207.50.126:34889", "159.224.44.19:57055", "185.232.104.110:53281", "178.150.139.126:53708", "109.86.207.1:39739", "176.108.103.21:49084", "194.12.121.100:61600", "94.179.135.154:30939", "176.98.76.203:57655", "93.170.117.152:46748", "37.52.10.234:43981", "94.45.100.1:51866", "62.216.34.226:60325", "185.17.127.214:32441", "193.160.226.89:53186", "91.202.144.204:59818", "188.191.29.141:48678", "94.76.75.20:40442", "46.219.115.69:30419", "37.57.31.240:37983", "37.53.93.10:57802", "178.219.247.61:44448", "109.87.87.99:33818", "92.113.221.60:35532", "194.187.148.221:61522", "91.213.119.246:31551", "46.35.240.86:53370", "91.214.128.243:23500", "93.170.4.145:58839", "91.196.150.19:30043", "194.187.219.146:61026", "195.62.36.58:49288", "178.219.170.247:47570", "93.127.26.233:8080", "178.219.171.43:45637", "109.87.193.112:45875", "195.88.112.227:46593", "176.36.210.201:33149", "95.47.116.133:45522", "46.201.225.210:57179", "176.105.199.19:52024", "193.110.78.15:35974", "176.118.51.176:39627", "94.131.204.196:57952", "78.26.172.44:49344", "91.219.171.70:42458", "109.86.213.172:41460", "193.16.247.132:53281", "5.58.243.194:44007", "193.164.95.19:48673", "91.216.231.94:30886", "109.251.197.33:49046", "89.107.136.146:47138", "5.153.139.226:31870", "91.200.160.105:30511", "109.110.76.3:46900", "159.224.109.140:41904", "193.107.247.98:53281", "91.225.226.39:59237", "154.41.2.154:13538", "178.212.192.121:41158", "195.137.185.146:41258", "46.201.245.220:60350", "109.86.41.78:45308", "194.44.53.30:56827", "91.207.27.142:4550", "185.155.89.164:51901", "37.53.83.40:34934", "194.242.98.253:33364", "193.34.93.231:47194", "46.151.250.75:53281", "195.182.22.92:49455", "85.238.98.160:57190", "195.24.154.3:51749", "95.158.1.26:56234", "95.133.186.234:39573", "37.57.18.221:40091", "159.224.209.6:38536", "31.134.106.66:31199", "109.86.196.126:55701", "31.193.90.197:61132", "78.26.168.231:45604", "188.191.29.15:48206", "213.231.1.34:51319", "91.226.5.245:53442", "178.165.103.188:49546", "178.219.243.167:40268", "176.121.4.18:54594", "178.151.205.154:35798", "91.193.254.206:56535", "77.222.131.11:50972", "91.200.124.197:46493", "212.66.34.240:39800", "185.124.169.18:33534", "94.158.152.248:36573", "93.171.241.18:45781", "93.171.242.60:52874", "85.223.157.204:40329", "46.151.192.170:61917", "212.66.38.103:34079", "193.178.190.173:52536", "94.179.130.34:52507", "31.202.35.218:59384", "77.121.56.165:40126", "195.69.177.14:41748", "178.219.172.9:59987", "193.142.219.75:33940", "178.210.130.82:41258", "212.115.236.32:41385", "93.171.242.179:42141", "91.203.60.67:8080", "188.231.142.71:59334", "176.36.89.203:53325", "37.57.71.117:31424", "213.160.150.239:35042", "91.203.114.105:54486", "95.47.136.185:50499", "77.93.34.62:40859", "77.109.59.196:38860", "92.60.190.249:33205", "212.90.34.45:37256", "134.249.188.139:57232", "95.215.159.253:36900", "31.42.173.57:42025", "178.136.194.161:52091", "193.238.98.206:34899", "37.57.91.248:53344", "195.88.42.19:51147", "82.117.244.85:31280", "95.47.116.93:58865", "109.251.104.73:44298", "46.219.111.234:47070", "5.58.167.211:55876", "212.1.109.155:31131", "46.164.149.36:32431", "212.90.59.170:50913", "195.138.84.232:32203", "109.251.185.20:56468", "193.106.144.140:35334", "62.122.203.127:53281", "95.67.67.54:53281", "178.165.21.244:52077", "109.200.156.20:60955", "80.249.229.64:56193", "159.224.220.63:44299", "109.254.143.230:45291", "91.192.45.192:51616", "89.252.19.66:39279", "5.58.5.224:47418", "91.234.40.20:8888", "77.120.152.161:37619", "31.41.94.217:23500", "37.139.102.181:38498", "91.225.110.101:60739", "188.0.96.49:61757", "195.138.91.102:45552", "93.175.203.124:57862", "195.225.49.131:58302", "91.207.244.125:43897", "91.195.156.241:3128", "195.43.70.155:33345", "109.207.112.212:33386", "95.215.95.126:59690", "212.90.59.157:33108", "185.200.63.97:53869", "93.175.198.138:60075", "77.222.152.137:55910", "176.36.111.9:31380", "193.34.140.105:53281", "31.129.170.57:36013", "91.227.183.222:43759", "94.45.131.213:32070", "46.63.58.139:53281", "194.187.217.18:43521", "91.200.114.27:37816", "95.164.74.27:32231", "5.58.167.58:57103", "93.171.27.99:53281", "94.153.194.14:41258", "5.58.11.215:43222", "195.225.48.113:58302", "185.46.223.198:23500", "193.105.62.116:47477", "195.66.138.150:36573", "46.219.80.142:55937", "46.219.14.37:54072", "91.225.226.39:36561", "109.87.40.23:41578", "91.193.252.250:45385", "37.53.93.10:45070", "193.160.225.217:61104", "212.68.168.202:54047", "95.47.116.184:60722", "195.230.130.73:51777", "195.189.18.202:31623", "176.98.75.120:35598", "93.78.205.197:57437", "109.108.87.135:44114", "194.54.155.122:41999", "93.78.206.59:54199", "178.214.201.102:57080", "95.134.195.78:31007", "46.172.76.124:45167", "194.187.216.55:53069", "91.230.199.174:34771", "195.69.221.198:31833", "94.153.157.18:52244", "213.169.74.2:60373", "31.193.90.197:43030", "178.213.0.207:44242", "176.118.55.245:38861", "130.0.43.110:53281", "176.102.48.94:45613", "91.203.27.139:35403", "217.12.222.210:53281", "193.30.243.58:31517", "91.219.171.84:43726", "91.225.165.4:38228", "95.46.140.154:53281", "109.110.73.106:57695", "185.160.60.36:33471", "194.8.146.167:51758", "82.117.247.134:49561", "194.183.174.152:30888", "95.134.188.108:51381", "109.86.41.76:45308", "193.56.149.229:41762", "185.63.32.143:52721", "86.111.88.10:53069", "91.202.240.208:51678", "185.39.199.45:8080", "193.34.93.221:37488", "195.78.101.171:59523", "94.179.135.154:41890", "217.66.103.45:8080", "78.30.202.143:49027", "178.219.175.128:49207", "31.43.143.15:8181", "193.56.149.184:39518", "91.240.97.133:34282", "91.203.114.74:46525", "95.47.116.73:80", "195.16.78.207:60904", "91.196.123.91:53281", "82.207.41.135:47395", "94.179.134.254:35796", "46.201.225.7:50866", "176.102.213.252:60467", "31.41.51.58:55909", "178.150.106.110:53120", "91.229.240.50:21231", "134.249.165.49:53281", "195.225.49.136:58302", "130.255.137.53:45128", "194.246.105.62:41258", "93.75.142.14:53281", "109.87.30.193:21776", "94.76.75.33:40442", "5.58.167.58:56999", "193.27.208.137:57350", "217.12.198.34:37638", "193.161.13.219:45345", "46.201.241.67:53281", "185.247.20.254:42225", "93.171.242.39:54051", "78.26.172.44:52355", "195.69.177.14:36355", "94.74.64.60:51917", "185.226.112.26:60284", "46.201.252.32:53281", "91.200.114.27:45235", "91.221.179.193:53281", "46.219.111.234:34852", "91.220.140.112:80", "193.41.88.58:53281", "195.88.26.124:34581", "37.53.87.137:32217", "91.207.249.98:35734", "31.202.35.218:33470", "109.87.87.99:52135", "176.111.33.152:41201", "178.165.103.188:60454", "195.230.141.2:52846", "178.94.86.176:61029", "77.120.246.243:38629", "31.202.209.55:43145", "46.151.255.201:53281", "213.174.6.67:39563", "178.150.139.126:37347", "46.175.185.239:44315", "109.87.28.69:35525", "91.142.174.224:49260", "178.165.9.75:40526", "82.207.41.135:39962", "5.53.119.186:52706", "195.225.144.27:38331", "5.59.105.17:35530", "194.126.183.171:44370", "5.53.114.152:37831", "176.118.49.54:53281", "109.110.73.106:61247", "176.108.103.21:36211", "46.164.149.39:40517", "178.219.172.9:52174", "94.179.130.34:41293", "176.36.111.9:61384", "5.58.131.2:51847", "80.249.229.64:52320", "37.53.73.228:61430", "46.172.76.114:50160", "176.118.51.163:50241", "195.34.90.121:41258", "92.60.190.249:54925", "91.203.114.67:52884", "178.151.205.154:44011", "94.74.64.60:51393", "178.151.143.31:51051", "78.26.154.121:60822", "194.44.246.83:41601", "46.164.149.40:31583", "134.249.146.35:52115", "91.225.5.43:54091", "91.203.114.105:48632", "176.98.75.229:54256", "93.175.203.124:30762", "178.54.121.111:60082", "176.118.51.74:53160", "91.211.122.23:38675", "109.254.143.230:38302", "195.69.221.198:40873", "188.115.129.125:53281", "194.54.155.122:41897", "178.215.190.240:54444", "46.219.14.37:38336", "77.121.6.130:53281", "195.211.231.165:55648", "212.68.168.202:43298", "31.128.79.149:50981", "193.238.98.206:53220", "46.219.80.142:58870", "91.227.183.222:30911", "5.58.131.2:44286", "91.230.199.174:59686", "91.203.115.11:44107", "176.108.104.84:61887", "94.131.219.156:52017", "31.41.51.58:30808", "195.62.36.58:55224", "185.86.79.154:80", "91.225.109.186:61892", "31.193.90.197:34942", "37.57.15.43:33761", "46.33.253.29:33554", "178.219.175.128:56717", "78.26.154.121:49883", "93.170.115.179:61458", "194.8.146.167:32833", "176.113.225.33:49373", "91.226.5.245:47823", "80.249.229.64:61671", "195.211.230.170:47923", "95.67.19.3:53281", "93.175.198.138:44019", "82.193.112.15:42113", "95.158.40.181:8888", "78.26.172.44:51387", "81.162.79.152:53281", "185.63.32.143:32175", "178.213.175.59:53281", "91.225.165.4:60308", "185.160.60.50:51996", "193.200.151.69:35048", "31.128.79.149:60914", "46.151.192.170:37983", "176.108.103.21:61038", "109.87.28.69:58738", "178.213.0.207:49626", "178.137.83.203:808", "85.238.98.222:52596", "176.109.182.192:4901", "193.27.208.137:48239", "91.201.182.73:41258", "194.177.0.74:53281", "212.115.235.12:46898", "91.203.114.74:40757", "46.164.149.37:38435", "109.251.185.20:39298", "195.62.36.58:41539", "193.56.149.229:35632", "91.203.114.105:45403", "178.219.172.9:60422", "193.110.78.15:43626", "78.30.202.110:33411", "77.121.56.165:48594", "91.200.114.27:33026", "5.53.114.152:31081", "91.225.5.43:30889", "194.246.105.51:41258", "31.202.197.10:41258", "134.249.167.184:53281", "80.249.229.64:42186", "91.225.109.186:44073", "46.219.80.142:53752", "85.238.98.160:58140", "91.230.199.174:60926", "31.42.173.57:55635", "93.171.242.142:52427", "194.126.183.141:53281", "46.33.253.29:43330", "195.225.48.97:58302", "31.128.79.149:59651", "178.219.175.128:47348", "46.175.185.239:34481", "95.67.10.22:53281", "94.74.64.60:58986", "5.53.119.186:47671", "109.110.73.106:36119", "178.93.50.32:33802", "185.39.197.137:60070", "46.151.250.11:53281", "178.93.40.94:43529", "91.227.183.222:37208", "194.8.146.167:39509", "178.151.205.154:35996", "46.173.105.151:41258", "193.188.254.67:53281", "212.68.168.202:53058", "46.172.76.104:8080", "176.98.75.120:32701", "91.211.122.23:48507", "134.249.171.35:35861", "46.151.192.170:42511", "194.79.60.240:38456", "194.183.174.152:60112", "193.43.95.139:39723", "193.27.208.137:34472"]
var var_host;
var var_port;
var var_user_agent;
var n = 0;
var u = 0;

function set_next_proxy_http(var_host, var_port){
  console.log("Current proxy index (number-1): " + n);
  n++;
  if (n >= proxy_list.length) {
    n = 0;
    alert( 'Последний VPN сервер в списке! Начинается повторение уже устанавливающихся серверов.' );
  }
  var config = {
    mode: "fixed_servers",
    rules: {
      singleProxy: {
        scheme: "http",
        host: var_host,
        port: var_port
      },
      bypassList: ["foobar.com"]
    }
  };
  chrome.proxy.settings.set(
      {value: config, scope: 'regular'},
      function() {});
}


///// SET PROXY /////


chrome.tabs.onCreated.addListener(function() {
  n = Math.floor(Math.random() * proxy_list.length);
  cur_proxy = proxy_list[n];
  console.log("Trying: " + cur_proxy);
  var_host = cur_proxy.substring(0, cur_proxy.indexOf(":"));
  var_port = parseInt(cur_proxy.substring(cur_proxy.indexOf(":")+1), 10);
  set_next_proxy_http(var_host, var_port);
});

chrome.proxy.onProxyError.addListener(function() {
  console.log("Error on proxy: " + var_host + ":" + var_port);
  //set_next_proxy_http(var_host, var_port);
  //alert( 'Ошибка прокси!' );
});



///// SET USER-AGENT /////


var requestFilter = {
  urls: [
    "<all_urls>"
  ]
};

chrome.webRequest.onBeforeSendHeaders.addListener(function(details) {
  u = Math.floor(Math.random() * user_agent_list.length);
  var_user_agent = user_agent_list[u];
  console.log("User-Agent: " + var_user_agent);
  u++;
  if (u >= user_agent_list.length) {
    u = 0;
  }
  var headers = details.requestHeaders;
  if( !var_user_agent ) {
    console.log("Error on user-agent: " + var_user_agent);
    return;
  }
  for(var i = 0, l = headers.length; i < l; ++i) {
    if( headers[i].name == 'User-Agent' ) {
      break;
    }
  }
  if(i < headers.length) {
    headers[i].value = var_user_agent;
  }
  return {requestHeaders: headers};
}, requestFilter, ['requestHeaders','blocking']);
